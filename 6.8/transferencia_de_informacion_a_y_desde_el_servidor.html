<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>7. Transferencia de información a y desde el servidor</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Uso Básico de la distribución Aprendiendo de Jesús de OpenBSD"><link rel="up" href="index.html" title="Uso Básico de la distribución Aprendiendo de Jesús de OpenBSD"><link rel="prev" href="primeras_paginas_html.html" title="6. Primeras páginas HTML"><link rel="next" href="mas_formas_de_uso_de_ssh.html" title="8. Más formas de uso de ssh"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7. Transferencia de información a y desde el servidor</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="primeras_paginas_html.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="mas_formas_de_uso_de_ssh.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="transferencia_de_informacion_a_y_desde_el_servidor"></a>7. Transferencia de información a y desde el servidor</h2></div></div></div><p>
    Hay diversos métodos para transferir información entre el servidor y
    otros computadores.
  </p><p>
    Puede descargar información típicamente con los protocolos
    <span class="strong"><strong>http</strong></span> y
    <span class="strong"><strong>ftp</strong></span> que transmiten la información
    sin cifrar, esto puede lograrlo con <code class="literal">ftp</code>,
    <code class="literal">curl</code> o <code class="literal">wget</code>.
  </p><p>
    Para descargar información cifrada emplee el protocolo
    <span class="strong"><strong>https</strong></span> con los mismos
    <code class="literal">ftp</code>, <code class="literal">curl</code> o
    <code class="literal">wget</code>.
  </p><p>
    Para enviar y recibir información cifrada utilice el protocolo
    <span class="strong"><strong>ssh</strong></span> (o su protocolo asociado
    <span class="strong"><strong>sftp</strong></span>). Para emplear este método
    desde un sistema adJ/OpenBSD (o otro sistema tipo Unix que cuente
    con OpenSSH) se puede usar bien <code class="literal">scp</code> desde la
    línea de ordenes o el programa <code class="literal">filezilla</code>.
  </p><p>
    También puede mantener sincronía entre directorios de un par de
    servidores con el programa <code class="literal">rsync</code>.
  </p><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="ftp"></a>7.1. ftp</h3></div></div></div><p>
      Si tiene una URL para los protocolos http, https o ftp basta que
      la escriba como parámetro de la orden <code class="literal">ftp</code> en
      una terminal y este descargará el enlace.
    </p><p>
      Por ejemplo las fuentes de este manual están en
      <code class="literal">http://pasosdejesus.github.io/basico_adJ/basico_adJ-6.8_html.tar.gz</code>
      (que usa protocolo http como indica el comienzo del URL) podrá
      descargarlas al directorio de trabajo con:
    </p><pre class="programlisting">
    ftp http://pasosdejesus.github.io/basico_adJ/basico_adJ-6.8_html.tar.gz
</pre><p>
      Para descargar con protocolo https (soportado por github.io):
    </p><pre class="programlisting">
    ftp https://pasosdejesus.github.io/basico_adJ/basico_adJ-6.8_html.tar.gz
</pre><p>
      Y a manera de ejemplo para descargar un documento de respuestas
      frecuentes sobre OpenBSD mediante el protocolo ftp:
    </p><pre class="programlisting">
    ftp ftp://ftp3.usa.openbsd.org/pub/OpenBSD/doc/obsd-faq.txt
</pre></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="curl"></a>7.2. curl</h3></div></div></div><p>
      Los mismos ejemplos de la sección anterior con
      <code class="literal">curl</code> serían:
    </p><pre class="programlisting">
    curl -O http://pasosdejesus.github.io/basico_adJ/basico_adJ-6.8_html.tar.gz
    curl -O https://pasosdejesus.github.io/basico_adJ/basico_adJ-6.8_html.tar.gz
    curl -O ftp://ftp3.usa.openbsd.org/pub/OpenBSD/doc/obsd-faq.txt
</pre></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="wget"></a>7.3. wget</h3></div></div></div><p>
      Los mismos ejemplos de la sección anterior con
      <code class="literal">wget</code> serían:
    </p><pre class="programlisting">
    wget http://pasosdejesus.github.io/basico_adJ/basico_adJ-6.8_html.tar.gz
    wget https://pasosdejesus.github.io/basico_adJ/basico_adJ-6.8_html.tar.gz
    wget ftp://ftp3.usa.openbsd.org/pub/OpenBSD/doc/obsd-faq.txt
</pre></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="filezilla"></a>7.4. Filezilla</h3></div></div></div><p>
      <span class="strong"><strong>filezilla</strong></span> le permite transmitir
      archivos a un servidor.
    </p><p>
      Puede usarse sobre sistemas operativos OpenBSD, Linux, Mac OS X y
      Windows. Soporta los protocolo FTP, SFTP y FTP sobre SSL.
    </p><p>
      Una vez instalado ejecútelo y configure la primera vez la conexión
      a su servidor desde el menú Archivo-&gt;Gestor de Sitios. Del
      siguiente ejemplo adapte el nombre del servidor y de usuario.
    </p><div class="figure"><a name="idm1152214912"></a><p class="title"><b>Figura 23. Configuración de una conexión con filezilla</b></p><div class="mediaobject"><img src="img/filezillaconexion.png" alt="Configuración de una conexión con
        filezilla"></div></div><p>
      Una vez configurada la encontrará al abrir FileZilla e ingresar a
      Archivos-&gt;Sitios. Cuando elija Conectar se iniciará una
      conexión cifrada, con un intercambio inicial de llaves que debe
      aceptar, después aparecerán paneles como los siguientes:
    </p><div class="figure"><a name="idm1152210944"></a><p class="title"><b>Figura 24. Paneles de Filezilla</b></p><div class="mediaobject"><img src="img/filezilla.png" alt="Paneles de Filezilla"></div></div><p>
      Note que al lado izquierdo están las carpetas y archivos de su
      computador local, mientras que al lado derecho están las carpetas
      y archivos del servidor. Para transmitir un archivo de uno a otro
      basta que lo arrastre.
    </p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="uso_basico_de_scp"></a>7.5. Uso básico de scp</h3></div></div></div><p>
      Si por ejemplo desea transferir el archivo
      <code class="literal">ideas.txt</code> del servidor OpenBSD
      <code class="literal">practica.pasosdeJesus.org</code> a otro servidor tipo
      Unix que tenga instalado y configurado ssh (digamos
      <code class="literal">comp.trabajo.net</code>), a la cuenta de un usuario
      <code class="literal">mateo</code>, en el directorio
      <code class="literal">personal</code>:
    </p><pre class="programlisting">
$ scp ideas.txt mateo@comp.trabajo.net:personal
</pre><p>
      Si desea transmitir el archivo metodo.txt del directorio personal
      del servidor <code class="literal">comp.trabajo.net</code> al directorio en
      el que está ubicado en
      <code class="literal">practica.pasosdeJesus.org</code>:
    </p><pre class="programlisting">
$ scp juan2@comp.trabajo.net:personal/metodo.txt .
</pre><p>
      Note que <span class="strong"><strong>scp</strong></span> es similar a
      <span class="strong"><strong>cp</strong></span> (pues permite copiar un
      archivo fuente en uno destino<sup>[<a name="idm2083223680" href="#ftn.idm2083223680">13</a>]</sup>) sólo que el archivo fuente o el archivo destino
      pueden estar en otra máquina.
    </p><p>
      Dado que Windows no tiene un servidor
      <span class="strong"><strong>ssh</strong></span> por omisión, es posible
      transmitir archivos a y desde sistemas Windows sólo desde el
      computador con Windows usando un programa como
      <span class="strong"><strong>winscp</strong></span> (disponible en
      <a href="http://winscp.sf.net" target="_top">http://winscp.sf.net</a> o
      <span class="strong"><strong>pscp</strong></span> que se distribuye junto
      con <span class="strong"><strong>putty</strong></span>
      (<a href="index.html#idm1614878208" title="1. Conceptos básicos">Sección 1, “Conceptos básicos”</a>).
    </p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="rsync"></a>7.6. Uso básico de <code class="literal">rsync</code></h3></div></div></div><p>
      rsync busca sincronizar un par de directorios en servidores
      diferente transmitiendo sólo la información que sea diferente.
    </p><p>
      Aunque es posible emplearlo con un protocolo propio (también
      llamado <code class="literal">rsync</code>), este sólo es recomendable para
      datos públicos porque no es cifrado. Por lo mismo la operación
      típica de rsync es sobre el protocolo ssh.
    </p><p>
      Por ejemplo si en el servidor con ip 10.11.12.13 tiene una carpeta
      /var/micopia/ que necesita traer a un servidor en el que está
      operando (digamos a la carpeta local /home/juan/micopia/):
    </p><pre class="programlisting">
cd /home/juan/micopia/
rsync -rvz 10.11.12.13:/var/micopia/* .
</pre><p>
      La orden anterior realizará una conexión ssh (por lo que debe
      operar ssh en el servidor <code class="literal">10.11.12.13</code>) para
      copiar todo el contenido de <code class="literal">/var/micoopia/</code> del
      servidor remoto al directorio actual, y lo que hará cada una de
      las opciones <code class="literal">-rvz</code> es:
    </p><div class="variablelist"><dl><dt><span class="term">
          <code class="literal">r</code>
        </span></dt><dd><p>
            Modo recursivo, es decir transmitirá subdirectorios y su
            contenido.
          </p></dd><dt><span class="term">
          <code class="literal">v</code>
        </span></dt><dd><p>
            Modo verboso, es decir presentará una línea por cada archivo
            que transmita
          </p></dd><dt><span class="term">
          <code class="literal">z</code>
        </span></dt><dd><p>
            Modo comprimido, es decir antes de transmitir cada archivo,
            lo comprimirá para disminuir el tiempo de transferencia
          </p></dd></dl></div><p>
      El método anterior no transmitirá archivos de configuración (los
      que empiezan con .) y requiere ubicarse primero en el directorio
      destino. Podría desde cualquier directorio con:
    </p><pre class="programlisting">
rsync -rvz 10.11.12.13:/var/micopia/ /home/juan/micopia/ 
</pre><p>
      Note que es importante terminar las rutas fuente y destino con
      barra <code class="literal">/</code>, no hacerlo transmitiría el directorio.
      Por ejemplo si ejecuta:
    </p><pre class="programlisting">
rsync -rvz 10.11.12.13:/var/micopia /home/juan/micopia/ 
</pre><p>
      Terminará con los datos que esperaba en la ruta
      <code class="literal">/home/juan/micopia/micopia/</code>
    </p><p>
      Si tiene permiso de superusuario en el servidor destino y además
      del modo recursivo necesita mantener enlaces (opción -l), archivos
      especiales (-D), fecha (-t), dueño (opciones -o para dueño y -g
      para grupo) y permisos (-p) será más útil la opción archivo (-a)
      que abrevia todos esos:
    </p><pre class="programlisting">
rsync -avz 10.11.12.13:/var/micopia/ /home/juan/micopia/ 
</pre></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="lecturas_recomendadas_transferencia"></a>7.7. Lecturas recomendadas sobre transferencia de archivos</h3></div></div></div><div class="itemizedlist"><ul type="disc" compact><li><p>
          Página del manual de <code class="literal">curl</code>
        </p></li><li><p>
          Página del manual de <code class="literal">wget</code>
        </p></li><li><p>
          Página del manual de <code class="literal">scp</code>
        </p></li><li><p>
          Página del manual de <code class="literal">rsync</code>
        </p></li></ul></div></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p xmlns="http://www.w3.org/TR/xhtml1/transitional"><sup>[<a name="ftn.idm2083223680" href="#idm2083223680">13</a>] </sup>
          Incluso scp implementa la funcionalidad de cp al permitir
          copiar localmente un archivo.
        </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="primeras_paginas_html.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="mas_formas_de_uso_de_ssh.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">6. Primeras páginas HTML </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 8. Más formas de uso de ssh</td></tr></table></div></body></html>
