<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>10. Más formas de uso de ssh</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Uso Básico de la distribución Aprendiendo de Jesús de OpenBSD"><link rel="up" href="index.html" title="Uso Básico de la distribución Aprendiendo de Jesús de OpenBSD"><link rel="prev" href="transferencia_de_informacion_a_y_desde_el_servidor.html" title="9. Transferencia de información a y desde el servidor"><link rel="next" href="formatos_de_archivos.html" title="11. Formatos de archivos"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10. Más formas de uso de ssh</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="transferencia_de_informacion_a_y_desde_el_servidor.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="formatos_de_archivos.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mas_formas_de_uso_de_ssh"></a>10. Más formas de uso de ssh</h2></div></div></div><p>
    El protocolo <span class="strong"><strong>ssh</strong></span> además de
    permitirle conectarse a servidores en modo texto (ver
    <a href="primer_uso_de_adJ.html#conexion_con_ssh" title="2.3. Conexión con ssh">Sección 2.3, “Conexión con ssh”</a>) le permite iniciar
    aplicaciones gráficas que se ejecuten en el servidor, hacer
    redireccionamiento de puertos y conectarse sin necesidad de dar
    clave (dando una clave sólo una vez en su computador).
  </p><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="abrir_programas_con_interfaz_grafica"></a>10.1. Abrir programas con interfaz gráfica</h3></div></div></div><p>
      Es posible ejecutar aplicaciones gráficas en el servidor y ver las
      ventanas gráficas en otro computador. Para esto es necesario:
    </p><div class="orderedlist"><ol type="1"><li><p>
          Que en el archivo de configuración
          <code class="literal">/etc/ssh/sshd_config</code> del servidor esté
          habilitada la opción:
        </p><pre class="programlisting">
X11Forwarding yes
</pre></li><li><p>
          Que en el computador donde se desea ver la información esté
          instalado un servidor de X-Window.
        </p></li></ol></div><p>
      En el caso de sistemas tipo Unix basta con tener X-Window
      instalado (si ve el modo gráfico es porque ya está instalado).
      Para otros sistemas operativos puede ser posible encontrar un
      servidor de X-Window, por ejemplo para Windows, puede emplear
      Cygwin-X (http://x.cygwin.com) o Xming
      (http://www.straightrunning.com/XmingNotes/).
    </p><p>
      Una vez esté ejecutándo el servidor de X-Window en su computador
      entre al servidor usando <span class="strong"><strong>ssh</strong></span>
      con opción para hacer reenvío de X11. De esta manera toda la
      información gráfica enviada por el servidor viajará por el canal
      seguro que ssh establece cuando se conecta al servidor. En el caso
      de OpenSSH esto se indica con la opción <code class="literal">-X</code>, i.e
      se debe conectar con:
    </p><pre class="programlisting">
ssh -X juan@practica.pasosdeJesus.org
</pre><p>
      En el caso de <span class="strong"><strong>putty</strong></span> en el
      dialogo de configuración que aparece antes de iniciar la conexión,
      en el menú Connection-&gt;SSH-&gt;X11 marque 'Enable X11
      forwarding'.
    </p><div class="figure"><a name="idp537988648"></a><p class="title"><b>Figura 24. Reenvío de X11 en putty</b></p><div class="mediaobject"><img src="img/putty-x11.png" alt="Reenvío de X11 en
        putty"></div></div><p>
      Una vez haga esto, las aplicaciones gráficas que inicie en la
      sesión ssh que inició, se verán en su computador. Pruebe por
      ejemplo con:
    </p><pre class="programlisting">
xeyes
</pre></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="tunel_reenviando_un_puerto"></a>10.2. Tunel reenviando un puerto</h3></div></div></div><p>
      Puede usar <span class="strong"><strong>ssh</strong></span> también para
      crear un túnel entre un puerto local y un puerto accequible desde
      el servidor al cual se conecta. Por ejemplo si en una organización
      tienen un cortafuegos conectado a Internet (digamos que es
      practica.pasosdeJesus.org) y en la red interna cuentan con un
      servidor web SSL (por ejemplo <code class="literal">base</code>), podría
      establecerse un túnel desde un computador fuera de la organización
      y el servidor privado, ingresando al cortafuegos con:
    </p><pre class="programlisting">
ssh -L10443:base:443 juan@practica.pasosdeJesus.org
</pre><p>
      donde <code class="literal">base</code> es el nombre del servidor al
      interior de la organización y 443 es el número de puerto de HTTPS
      (protocolo HTTP sobre SSL, es decir conexiones web cifradas).
    </p><p>
      Si emplea <span class="strong"><strong>putty</strong></span> debe
      especificar esta información en el diálogo de configuración
      Connection-&gt;SSH-&gt;Tunnels como se presenta a continuación
      presionando el botón Add para adicionar el túnel a la región
      `Forwarded ports'.
    </p><div class="figure"><a name="idp458301736"></a><p class="title"><b>Figura 25. Configuración de túnel en putty</b></p><div class="mediaobject"><img src="img/putty-tunnel.png" alt="Configuración de túnel en
        putty"></div></div><p>
      Una vez inicie la conexión debe digitar la clave del usuario en el
      cortafuegos. Con lo cual quedará establecido un túnel entre el
      puerto 10443 del computador local y el puerto 443 del servidor
      <code class="literal">base</code>. Este túnel puede usarse ingresando en un
      navegador la dirección: <code class="literal">https://127.0.0.1:10443</code>
    </p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="tunel_con_protocolo_socks"></a>10.3. Tunel con protocolo SOCKS</h3></div></div></div><p>
      Otra forma de realizar un tunel, pero sin limitarlo a un puerto es
      empleando un servidor SOCKS incluido con el programa ssh y
      configurando su navegador para emplearlo.
    </p><p>
      Primero debe establecer la conexión indicando el puerto que usará
      para el servidor socks con la opción -D, por ejemplo:
    </p><pre class="programlisting">
ssh -D8080 juan@practica.pasosdeJesus.org
</pre><p>
      donde 8080 es el número de puerto donde correrá el servidor SOCKS
      en su computador.
    </p><p>
      Si emplea <span class="strong"><strong>putty</strong></span> debe
      especificar esta información en el diálogo de configuración
      Connection-&gt;SSH-&gt;Tunnels, marcando Dynamic y escribiendo un
      puerto como 8080 en "Local Port," y proceder a
      conectarse al servidor.
    </p><p>
      A continuación debe configurar su navegador para que utilice ese
      servidor SOCKS en su propio computador en el puerto que específico
      (8080 en este ejemplo). En el caso de Firefox puede hacerlo desde
      Editar-&gt;Preferencias-&gt;Avanzado-&gt;Red-&gt;Configurar
      especificar en servidor Socks 127.0.0.1 y en puerto 8080. Una vez
      acepte toda navegación que intente realizar se hará por el
      servidor al cual se conectó. Si por ejemplo ese servidor tiene
      acceso en una red interna a un servidor con IP 192.168.1.2 puede
      emplear esa URL en su navegador y llegará a ese computador en la
      red interna donde está el servidor.
    </p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="lecturas_recomendadas_ssh"></a>10.4. Lecturas recomendadas</h3></div></div></div><p>
      Puede aprender sobre <span class="strong"><strong>ssh</strong></span>
      examinado la especificación del protocolo en uno de los borradores
      de la especificación temporal "SSH Protocol
      Architecture"
      <a href="https://tools.ietf.org/html/draft-ietf-secsh-architecture-22" target="_top">https://tools.ietf.org/html/draft-ietf-secsh-architecture-22</a>.
    </p><p>
      Hay información sobre la implementación OpenSSH en
      <a href="http://www.openssh.org" target="_top">http://www.openssh.org</a>.
    </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="transferencia_de_informacion_a_y_desde_el_servidor.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="formatos_de_archivos.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">9. Transferencia de información a y desde el servidor </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 11. Formatos de archivos</td></tr></table></div></body></html>
